<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Engaging with the Wiphala: A Code-Generation Hardened CS1 Final</title>
  <link rel="stylesheet" href="https://unpkg.com/reveal.js@5/dist/reveal.css" />
  <link rel="stylesheet" href="https://unpkg.com/reveal.js@5/dist/theme/white.css" id="theme" />
  <style>
    :root{
      --wu-cardinal:#791716; /* Willamette Cardinal */
      --wu-gold:#C0AC7E;     /* Willamette Gold */
      --wu-ink:#2b2b2b;

      /* Responsive type scale */
      --fz-base: clamp(26px, 2.2vw, 40px);
      --fz-h1: clamp(2.0rem, 5.0vw, 3.2rem);
      --fz-h2: clamp(1.7rem, 3.8vw, 2.6rem);
      --fz-h3: clamp(1.4rem, 3.0vw, 2.1rem);
      --fz-body: clamp(1.0rem, 2.2vw, 1.3rem);
      --fz-small: clamp(0.9rem, 1.6vw, 1.1rem);

      /* Responsive spacing */
      --space-1: clamp(0.5rem, 1.2vw, 0.9rem);
      --space-2: clamp(1.0rem, 2.0vw, 1.6rem);
      --space-3: clamp(1.5rem, 3.0vw, 2.2rem);
      --space-4: clamp(2.0rem, 4.0vw, 3.2rem);
      --content-max: min(88vw, 1400px);
    }

    /* Base text and sizing */
    .reveal{
      color: var(--wu-ink);
      font-size: var(--fz-base);
      line-height: 1.5;
    }
    .reveal h1{ font-size: var(--fz-h1); margin-bottom: var(--space-2); }
    .reveal h2{ font-size: var(--fz-h2); margin-bottom: var(--space-2); }
    .reveal h3{ font-size: var(--fz-h3); margin-bottom: var(--space-1); }
    .reveal p, .reveal li{ font-size: var(--fz-body); }

    /* Colors and accents */
    .reveal h1, .reveal h2, .reveal h3 { color: var(--wu-cardinal); letter-spacing:.5px; }
    .reveal a{ color: var(--wu-cardinal); border-bottom: .08em solid var(--wu-gold); }
    .reveal a:hover{ color: var(--wu-gold); }

    /* UI elements */
    .reveal .progress span{ background: var(--wu-cardinal); }
    .reveal .controls .navigate-left,
    .reveal .controls .navigate-right,
    .reveal .controls .navigate-up,
    .reveal .controls .navigate-down{ color: var(--wu-cardinal); }
    .reveal .controls .enabled{ color: var(--wu-cardinal); }
    .reveal .slide-number{ background: var(--wu-cardinal); color: #fff; }

    /* Center content but allow fuller width with padding */
    .reveal section{
      max-width: var(--content-max);
      margin: 0 auto;
      padding: var(--space-3) var(--space-3) var(--space-2);
    }

    /* Lists and spacing */
    .reveal ul, .reveal ol{ margin: var(--space-2) 0 var(--space-2) var(--space-3); }
    .reveal li{ margin: 0 0 var(--space-1) 0; }
    .reveal blockquote{ padding: var(--space-2); border-left: 6px solid var(--wu-gold); background:#faf8f4; }

    /* Callouts and emphasis */
    .timebox{ font-size: var(--fz-small); opacity:.85; color: var(--wu-cardinal); }
    .notice{ font-size: var(--fz-body); padding: var(--space-2); border-left:6px solid var(--wu-gold); background: #faf8f4; }

    /* Images: responsive, centered, tasteful framing */
    .reveal section img{
      display:block;
      max-width: min(100%, 1400px);
      width: 92%;
      height: auto;
      margin: var(--space-2) auto;
      border: 4px solid var(--wu-gold);
      box-shadow: 0 10px 30px rgba(0,0,0,.15);
      border-radius: 6px;
    }

    /* Fixed-size aligned images used in some slides */
    .slide-image-row{ display:flex; gap:var(--space-2); align-items:center; justify-content:center; margin: var(--space-2) 0; }
    .slide-image-row img.fixed-image{ display:block; width:260px; height:180px; object-fit:cover; border:4px solid var(--wu-gold); border-radius:6px; box-shadow:0 8px 20px rgba(0,0,0,.12);} 
    /* Small image variant for visual anchor slides */
    img.small-image{ display:block; width:200px; height:140px; object-fit:contain; margin: 0.8rem auto; border:4px solid var(--wu-gold); border-radius:6px; box-shadow:0 8px 20px rgba(0,0,0,.12); background:#fff; }

    /* Code blocks: slightly larger and roomier */
    .reveal pre code{ font-size: clamp(0.9rem, 2.0vw, 1.25rem); line-height: 1.55; }
    code.small{ font-size: clamp(0.9rem, 1.8vw, 1.1rem); }

    /* Two-column helper (for richer slides) */
    .cols{ display:grid; grid-template-columns: 1.2fr 1fr; gap: var(--space-3); align-items:start; }
    @media (max-width: 900px){ .cols{ grid-template-columns: 1fr; } }
    .muted{ opacity:.8; }
    .kbd{ font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; padding:.1em .35em; border:1px solid #ddd; border-radius:.35em; background:#fafafa; }
  </style>
</head>
<body>
  <div class="reveal">
    <div class="slides">
      <!-- Slides will be loaded dynamically from the slides/ directory -->
    </div>
  </div>

  <script src="https://unpkg.com/reveal.js@5/dist/reveal.js"></script>
  <script src="https://unpkg.com/reveal.js@5/plugin/markdown/markdown.js"></script>
  <script src="https://unpkg.com/reveal.js@5/plugin/notes/notes.js"></script>
  <script src="https://unpkg.com/reveal.js@5/plugin/highlight/highlight.js"></script>
  <script>
    // List of slide partials (order matters)
    const slideFiles = [
      'slides/01-title.html',
      'slides/02-qa.html',
      'slides/03-motivation.html',
      'slides/04-course-context.html',
      'slides/05-design-principles.html',
      'slides/06-wiphala.html',
      'slides/07-milestones.html',
      'slides/08-strings-files.html',
      'slides/09-interactive-graphics.html',
      'slides/10-reading-python.html',
      'slides/11-defining-classes.html',
      'slides/12-fundamental-python.html',
      'slides/13-results.html',
      'slides/14-implications.html',
      'slides/15-closing.html'
    ];

    async function fetchText(path, timeout = 5000){
      const controller = new AbortController();
      const id = setTimeout(()=> controller.abort(), timeout);
      try{
        const res = await fetch(path, { signal: controller.signal });
        clearTimeout(id);
        if(!res.ok) throw new Error('Fetch error ' + res.status);
        return await res.text();
      }catch(e){
        clearTimeout(id);
        throw e;
      }
    }

    async function loadSlides(){
      const container = document.querySelector('.reveal .slides');
      if(!container) return;
      for(const file of slideFiles){
        try{
          const html = await fetchText(file, 4000);
          const wrapper = document.createElement('div');
          wrapper.innerHTML = html;
          while(wrapper.firstChild) container.appendChild(wrapper.firstChild);
        }catch(err){
          console.warn('Slide load failed', file, err);
          const fallback = document.createElement('section');
          fallback.innerHTML = `<h2>Missing slide</h2><p>Could not load ${file}</p>`;
          container.appendChild(fallback);
        }
      }

      // initialize Reveal after slides are present
      Reveal.initialize({
        hash: true,
        slideNumber: true,
        controls: true,
        progress: true,
        center: true,
        margin: 0.06,
        minScale: 0.5,
        maxScale: 2.25,
        plugins: [ RevealMarkdown, RevealNotes, RevealHighlight ],
      });
    }

    if(document.readyState === 'loading') document.addEventListener('DOMContentLoaded', loadSlides);
    else loadSlides();
  </script>
</body>
</html>
